# NeoBank Service Accounts with IRSA
# Each service gets its own ServiceAccount with IAM role annotation
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: identity-service-sa
  namespace: neobank
  labels:
    app.kubernetes.io/name: identity-service
    app.kubernetes.io/part-of: neobank
  annotations:
    description: "Service account for identity-service with IRSA"
    eks.amazonaws.com/role-arn: "" # Set via Kustomize overlay per environment
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: ledger-service-sa
  namespace: neobank
  labels:
    app.kubernetes.io/name: ledger-service
    app.kubernetes.io/part-of: neobank
  annotations:
    description: "Service account for ledger-service with IRSA"
    eks.amazonaws.com/role-arn: "" # Set via Kustomize overlay per environment
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: payment-service-sa
  namespace: neobank
  labels:
    app.kubernetes.io/name: payment-service
    app.kubernetes.io/part-of: neobank
  annotations:
    description: "Service account for payment-service with IRSA"
    eks.amazonaws.com/role-arn: "" # Set via Kustomize overlay per environment
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: card-service-sa
  namespace: neobank
  labels:
    app.kubernetes.io/name: card-service
    app.kubernetes.io/part-of: neobank
  annotations:
    description: "Service account for card-service with IRSA"
    eks.amazonaws.com/role-arn: "" # Set via Kustomize overlay per environment
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: product-service-sa
  namespace: neobank
  labels:
    app.kubernetes.io/name: product-service
    app.kubernetes.io/part-of: neobank
  annotations:
    description: "Service account for product-service with IRSA"
    eks.amazonaws.com/role-arn: "" # Set via Kustomize overlay per environment
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: frontend-sa
  namespace: neobank
  labels:
    app.kubernetes.io/name: frontend
    app.kubernetes.io/part-of: neobank
  annotations:
    description: "Service account for frontend with IRSA"
    eks.amazonaws.com/role-arn: "" # Set via Kustomize overlay per environment
---
# ServiceAccount for External Secrets Operator
apiVersion: v1
kind: ServiceAccount
metadata:
  name: external-secrets-sa
  namespace: neobank
  annotations:
    eks.amazonaws.com/role-arn: "" # Set via Kustomize overlay per environment
